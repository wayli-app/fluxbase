# ==============================================================================
# Fluxbase Environment Configuration
# ==============================================================================
# This is an example environment file for Fluxbase deployment.
# Copy this file to .env and update the values for your environment.
#
# SECURITY WARNING: The FLUXBASE_AUTH_JWT_SECRET and other secrets in this file
# are example values for development/testing ONLY. You MUST generate new secure
# values for production deployments.
# ==============================================================================

# ------------------------------------------------------------------------------
# Production Deployment Notes
# ------------------------------------------------------------------------------
# For production deployments, you should:
# 1. Generate a new FLUXBASE_AUTH_JWT_SECRET using: openssl rand -base64 32
# 2. Use strong, unique passwords for all database and storage credentials
# 3. Enable SSL/TLS for database connections (set FLUXBASE_DATABASE_SSL_MODE=require)
# 4. Use a managed PostgreSQL service or secure your PostgreSQL instance
# 5. Use AWS S3, Google Cloud Storage, or a properly secured MinIO instance
# 6. Consider using a secrets management service (AWS Secrets Manager, etc.)
# 7. Enable and configure rate limiting based on your traffic patterns
# 8. Set up email provider for authentication flows
# 9. Set FLUXBASE_DEBUG=false
# 10. Review and adjust all timeout and limit settings for your use case
# 11. Never commit your production .env file to version control

# ------------------------------------------------------------------------------
# Database Configuration (shared between postgres and fluxbase services)
# ------------------------------------------------------------------------------
# These values are used by both the PostgreSQL container and Fluxbase service
POSTGRES_HOST=fluxbase-postgres
POSTGRES_PORT=5432
POSTGRES_DB=fluxbase
POSTGRES_USER=fluxbase
POSTGRES_PASSWORD=fluxbase

# Optional: Separate admin user for migrations (defaults to POSTGRES_USER if not set)
# POSTGRES_ADMIN_USER=fluxbase_admin
# POSTGRES_ADMIN_PASSWORD=fluxbase_admin

FLUXBASE_DATABASE_SSL_MODE=disable

# Connection pool settings (optional - defaults are usually fine)
# FLUXBASE_DATABASE_MAX_CONNECTIONS=25
# FLUXBASE_DATABASE_MIN_CONNECTIONS=5
# FLUXBASE_DATABASE_MAX_CONN_LIFETIME=1h
# FLUXBASE_DATABASE_MAX_CONN_IDLE_TIME=30m
# FLUXBASE_DATABASE_HEALTH_CHECK_PERIOD=1m

# User Migrations (optional - uncomment to enable custom user migrations)
# FLUXBASE_DATABASE_USER_MIGRATIONS_PATH=/migrations/user

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
FLUXBASE_SERVER_ADDRESS=0.0.0.0:8080

# Timeouts (optional - defaults are usually fine)
# FLUXBASE_SERVER_READ_TIMEOUT=15s
# FLUXBASE_SERVER_WRITE_TIMEOUT=15s
# FLUXBASE_SERVER_IDLE_TIMEOUT=60s
# FLUXBASE_SERVER_BODY_LIMIT=2147483648  # 2GB in bytes

# ------------------------------------------------------------------------------
# JWT Configuration
# ------------------------------------------------------------------------------
# ⚠️  CRITICAL SECURITY WARNING ⚠️
# The FLUXBASE_AUTH_JWT_SECRET below is a randomly generated example for
# development only. For production, you MUST generate a new secret using:
#   openssl rand -base64 32
# Never commit your production JWT secret to version control!
FLUXBASE_AUTH_JWT_SECRET=haEae1GZfKa/lzMHyNFIR5iL0FZFIMMxMN3pb2jqCRc=

# ------------------------------------------------------------------------------
# Admin Dashboard Configuration
# ------------------------------------------------------------------------------
# Enable admin dashboard UI and API routes
# Requires FLUXBASE_SECURITY_SETUP_TOKEN to also be set
FLUXBASE_ADMIN_ENABLED=true

# Dashboard SSO-Only Mode (emergency recovery)
# Set to 'true' to bypass the "disable password login" setting and force enable
# password login for the dashboard. Use this if you accidentally lock yourself out
# after enabling SSO-only mode.
# FLUXBASE_DASHBOARD_FORCE_PASSWORD_LOGIN=false

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------
# ⚠️  REQUIRED when admin is enabled: Admin Setup Token ⚠️
# This token is REQUIRED to use the admin dashboard and initial setup.
# Generate a secure token: openssl rand -base64 32
# Store this securely - it's needed only during initial setup.
FLUXBASE_SECURITY_SETUP_TOKEN=your-secret-setup-token-change-in-production

# Encryption Key for sensitive data at rest (OAuth tokens, API keys stored via dashboard)
# Must be exactly 32 bytes for AES-256-GCM encryption
# Generate with: openssl rand -base64 32 | head -c 32
# If not set, OAuth tokens will be stored unencrypted (not recommended for production)
# FLUXBASE_ENCRYPTION_KEY=
FLUXBASE_AUTH_JWT_EXPIRY=15m
FLUXBASE_AUTH_REFRESH_EXPIRY=168h
FLUXBASE_AUTH_MAGIC_LINK_EXPIRY=15m
FLUXBASE_AUTH_PASSWORD_RESET_EXPIRY=1h

# Authentication settings (optional)
# FLUXBASE_AUTH_PASSWORD_MIN_LENGTH=8
# FLUXBASE_AUTH_BCRYPT_COST=10
# FLUXBASE_AUTH_ENABLE_SIGNUP=false
# FLUXBASE_AUTH_ENABLE_MAGIC_LINK=true

# ------------------------------------------------------------------------------
# API Keys (for client applications - optional)
# ------------------------------------------------------------------------------
# These keys are used by client applications to authenticate requests.
# Generate using: bash scripts/generate-keys.sh

# Anon Key: JWT token with 'anon' role for client-side anonymous access
# Used in: VITE_FLUXBASE_ANON_KEY, NEXT_PUBLIC_FLUXBASE_ANON_KEY, etc.
# Generate: bash scripts/generate-keys.sh (select option 3 - Anon Key)
# FLUXBASE_AUTH_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYW5vbiIsImVtYWlsIjoiIiwicm9sZSI6ImFub24iLCJzZXNzaW9uX2lkIjoiIiwidG9rZW5fdHlwZSI6ImFjY2VzcyIsImlzX2Fub255bW91cyI6dHJ1ZSwiaXNzIjoiZmx1eGJhc2UiLCJzdWIiOiJhbm9uIiwiaWF0IjoxNzAwMDAwMDAwLCJleHAiOjE3MzE1MzYwMDAsIm5iZiI6MTcwMDAwMDAwMCwianRpIjoiYW5vbiJ9.your-signature-here

# Service Key: For backend services with elevated privileges (bypasses RLS)
# ⚠️  WARNING: Service keys have FULL database access - never expose to clients!
# Generate: bash scripts/generate-keys.sh (select option 2 - Service Key)
# Then store the key hash in database: INSERT INTO auth.service_keys...
# FLUXBASE_AUTH_SERVICE_KEY=sk_test_your-generated-service-key-here

# ------------------------------------------------------------------------------
# Storage Configuration
# ------------------------------------------------------------------------------
# Use local file storage (recommended for development)
FLUXBASE_STORAGE_PROVIDER=local
FLUXBASE_STORAGE_LOCAL_PATH=/app/storage

# For S3-compatible storage (production or MinIO), uncomment below:
# FLUXBASE_STORAGE_PROVIDER=s3
# FLUXBASE_STORAGE_S3_BUCKET=fluxbase
# FLUXBASE_STORAGE_S3_REGION=us-east-1
# FLUXBASE_STORAGE_S3_ENDPOINT=http://minio:9000
# FLUXBASE_STORAGE_S3_ACCESS_KEY=minioadmin
# FLUXBASE_STORAGE_S3_SECRET_KEY=minioadmin

# Upload limits (optional)
# FLUXBASE_STORAGE_MAX_UPLOAD_SIZE=2147483648  # 2GB in bytes

# Image Transformation (on-the-fly resize, format conversion)
# FLUXBASE_STORAGE_TRANSFORMS_ENABLED=true
# FLUXBASE_STORAGE_TRANSFORMS_DEFAULT_QUALITY=80   # JPEG/WebP quality (1-100)
# FLUXBASE_STORAGE_TRANSFORMS_MAX_WIDTH=4096       # Max output width in pixels
# FLUXBASE_STORAGE_TRANSFORMS_MAX_HEIGHT=4096      # Max output height in pixels
# FLUXBASE_STORAGE_TRANSFORMS_MAX_TOTAL_PIXELS=16000000  # Max total pixels (16 megapixels)
# FLUXBASE_STORAGE_TRANSFORMS_BUCKET_SIZE=50       # Round dimensions to nearest N pixels
# FLUXBASE_STORAGE_TRANSFORMS_RATE_LIMIT=60        # Transforms per minute per user
# FLUXBASE_STORAGE_TRANSFORMS_TIMEOUT=30s          # Max transform duration
# FLUXBASE_STORAGE_TRANSFORMS_MAX_CONCURRENT=4     # Max concurrent transforms
# FLUXBASE_STORAGE_TRANSFORMS_CACHE_ENABLED=true   # Enable transform caching
# FLUXBASE_STORAGE_TRANSFORMS_CACHE_TTL=24h        # Cache time-to-live
# FLUXBASE_STORAGE_TRANSFORMS_CACHE_MAX_SIZE=1073741824  # Max cache size (1GB)

# ------------------------------------------------------------------------------
# GraphQL Configuration
# ------------------------------------------------------------------------------
# Auto-generated GraphQL API for your database tables
FLUXBASE_GRAPHQL_ENABLED=true
# FLUXBASE_GRAPHQL_MAX_DEPTH=10           # Maximum query nesting depth
# FLUXBASE_GRAPHQL_MAX_COMPLEXITY=1000    # Maximum query complexity score
# FLUXBASE_GRAPHQL_INTROSPECTION=true     # Disable in production for security

# ------------------------------------------------------------------------------
# MinIO Configuration (for minio service in docker-compose)
# ------------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------
# Global rate limiting (optional - disabled by default)
# FLUXBASE_SECURITY_ENABLE_GLOBAL_RATE_LIMIT=false

# Endpoint-specific rate limiting (optional - defaults shown)
# FLUXBASE_SECURITY_ADMIN_SETUP_RATE_LIMIT=5
# FLUXBASE_SECURITY_ADMIN_SETUP_RATE_WINDOW=15m
# FLUXBASE_SECURITY_AUTH_LOGIN_RATE_LIMIT=10
# FLUXBASE_SECURITY_AUTH_LOGIN_RATE_WINDOW=1m
# FLUXBASE_SECURITY_ADMIN_LOGIN_RATE_LIMIT=10
# FLUXBASE_SECURITY_ADMIN_LOGIN_RATE_WINDOW=1m

# ------------------------------------------------------------------------------
# CAPTCHA Configuration (optional)
# ------------------------------------------------------------------------------
# Protect authentication endpoints with CAPTCHA verification
# Supported providers: hcaptcha, recaptcha_v3, turnstile, cap
# FLUXBASE_SECURITY_CAPTCHA_ENABLED=false
# FLUXBASE_SECURITY_CAPTCHA_PROVIDER=hcaptcha
# FLUXBASE_SECURITY_CAPTCHA_SITE_KEY=
# FLUXBASE_SECURITY_CAPTCHA_SECRET_KEY=
# FLUXBASE_SECURITY_CAPTCHA_SCORE_THRESHOLD=0.5  # reCAPTCHA v3 only (0.0-1.0)
# FLUXBASE_SECURITY_CAPTCHA_ENDPOINTS=signup,login,password_reset,magic_link

# Cap provider settings (self-hosted proof-of-work CAPTCHA - https://capjs.js.org/)
# FLUXBASE_SECURITY_CAPTCHA_CAP_SERVER_URL=http://localhost:3000
# FLUXBASE_SECURITY_CAPTCHA_CAP_API_KEY=

# CAPTCHA Multi-Instance Deployment Note:
# The default CAPTCHA challenge store uses in-memory storage, which is per-instance only.
# For multi-instance deployments behind a load balancer, you MUST enable Redis:
# FLUXBASE_REDIS_ENABLED=true
# Without Redis, CAPTCHA challenges created on one instance won't be verifiable by another.

# ------------------------------------------------------------------------------
# Realtime/WebSocket Configuration
# ------------------------------------------------------------------------------
FLUXBASE_REALTIME_ENABLED=true

# Realtime settings (optional - defaults are usually fine)
# FLUXBASE_REALTIME_MAX_CONNECTIONS=1000
# FLUXBASE_REALTIME_PING_INTERVAL=30s
# FLUXBASE_REALTIME_PONG_TIMEOUT=60s
# FLUXBASE_REALTIME_WRITE_BUFFER_SIZE=1024
# FLUXBASE_REALTIME_READ_BUFFER_SIZE=1024
# FLUXBASE_REALTIME_MESSAGE_SIZE_LIMIT=524288  # 512KB in bytes
# FLUXBASE_REALTIME_CHANNEL_BUFFER_SIZE=100

# ------------------------------------------------------------------------------
# Email Configuration (optional - disabled by default)
# ------------------------------------------------------------------------------
FLUXBASE_EMAIL_ENABLED=true
# FLUXBASE_EMAIL_PROVIDER=smtp
# FLUXBASE_EMAIL_FROM_ADDRESS=noreply@example.com
# FLUXBASE_EMAIL_FROM_NAME=Fluxbase
# FLUXBASE_EMAIL_REPLY_TO_ADDRESS=support@example.com

# SMTP Settings (if using smtp provider)
# FLUXBASE_EMAIL_SMTP_HOST=smtp.example.com
# FLUXBASE_EMAIL_SMTP_PORT=587
# FLUXBASE_EMAIL_SMTP_USERNAME=user
# FLUXBASE_EMAIL_SMTP_PASSWORD=password
# FLUXBASE_EMAIL_SMTP_TLS=true

# SendGrid Settings (if using sendgrid provider)
# FLUXBASE_EMAIL_SENDGRID_API_KEY=your-api-key

# Mailgun Settings (if using mailgun provider)
# FLUXBASE_EMAIL_MAILGUN_API_KEY=your-api-key
# FLUXBASE_EMAIL_MAILGUN_DOMAIN=mg.example.com

# AWS SES Settings (if using ses provider)
# FLUXBASE_EMAIL_SES_ACCESS_KEY=your-access-key
# FLUXBASE_EMAIL_SES_SECRET_KEY=your-secret-key
# FLUXBASE_EMAIL_SES_REGION=us-east-1

# Email Templates (optional - uses built-in templates if not specified)
# FLUXBASE_EMAIL_MAGIC_LINK_TEMPLATE=/path/to/magic_link_template.html
# FLUXBASE_EMAIL_VERIFICATION_TEMPLATE=/path/to/verification_template.html
# FLUXBASE_EMAIL_PASSWORD_RESET_TEMPLATE=/path/to/password_reset_template.html

# ------------------------------------------------------------------------------
# Edge Functions Configuration
# ------------------------------------------------------------------------------
FLUXBASE_FUNCTIONS_ENABLED=true
# FLUXBASE_FUNCTIONS_FUNCTIONS_DIR=./functions
# FLUXBASE_FUNCTIONS_DEFAULT_TIMEOUT=30  # seconds
# FLUXBASE_FUNCTIONS_MAX_TIMEOUT=300  # seconds
# FLUXBASE_FUNCTIONS_DEFAULT_MEMORY_LIMIT=128  # MB
# FLUXBASE_FUNCTIONS_MAX_MEMORY_LIMIT=1024  # MB

# Edge Functions Runtime Environment Variables
# These are automatically available within Deno edge functions via Deno.env.get()
# FLUXBASE_TOKEN=  # Optional service key for functions to call Fluxbase API

# ------------------------------------------------------------------------------
# General Configuration
# ------------------------------------------------------------------------------
# Internal URL for server-to-server communication (edge functions, jobs calling the API)
FLUXBASE_BASE_URL=http://localhost:8080
# Public URL for user-facing links (magic links, OAuth callbacks, invitation emails)
# Set this when deploying behind a reverse proxy, load balancer, or on a public domain.
# If not set, falls back to FLUXBASE_BASE_URL.
# Example: FLUXBASE_PUBLIC_BASE_URL=https://api.example.com
# FLUXBASE_PUBLIC_BASE_URL=
FLUXBASE_DEBUG=false

# Advanced Configuration (rarely needed)
# FLUXBASE_DATABASE_RETRY_ATTEMPTS=5  # Database connection retry attempts at startup

# ------------------------------------------------------------------------------
# Redis Configuration (for caching, sessions, and distributed rate limiting)
# ------------------------------------------------------------------------------
# FLUXBASE_REDIS_ENABLED=false
# FLUXBASE_REDIS_HOST=localhost
# FLUXBASE_REDIS_PORT=6379
# FLUXBASE_REDIS_PASSWORD=
# FLUXBASE_REDIS_DB=0
# FLUXBASE_REDIS_MAX_RETRIES=3
# FLUXBASE_REDIS_POOL_SIZE=10

# ------------------------------------------------------------------------------
# Metrics and Monitoring
# ------------------------------------------------------------------------------
# FLUXBASE_METRICS_ENABLED=false
# FLUXBASE_METRICS_PORT=9090
# FLUXBASE_METRICS_PATH=/metrics

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
# FLUXBASE_LOGGING_CONSOLE_ENABLED=true
# FLUXBASE_LOGGING_CONSOLE_LEVEL=info           # Options: trace, debug, info, warn, error
# FLUXBASE_LOGGING_CONSOLE_FORMAT=json          # Options: json, console

# Logging Backend (where logs are persisted)
# FLUXBASE_LOGGING_BACKEND=postgres             # Options: postgres, s3, local
# FLUXBASE_LOGGING_S3_BUCKET=                   # Required if backend is s3
# FLUXBASE_LOGGING_S3_PREFIX=logs               # S3 object key prefix
# FLUXBASE_LOGGING_LOCAL_PATH=./logs            # Directory for local filesystem logs

# Log Batching (performance tuning)
# FLUXBASE_LOGGING_BATCH_SIZE=100               # Entries per batch
# FLUXBASE_LOGGING_FLUSH_INTERVAL=1s            # Max time before flush
# FLUXBASE_LOGGING_BUFFER_SIZE=10000            # Async buffer size

# Real-time Log Streaming
# FLUXBASE_LOGGING_PUBSUB_ENABLED=true          # Enable PubSub notifications for log streaming

# Log Retention (days, 0 = keep forever)
# WARNING: The retention service actively DELETES logs older than these values
# FLUXBASE_LOGGING_SYSTEM_RETENTION_DAYS=7      # Application/system logs
# FLUXBASE_LOGGING_HTTP_RETENTION_DAYS=30       # HTTP access logs
# FLUXBASE_LOGGING_SECURITY_RETENTION_DAYS=90   # Security/audit logs
# FLUXBASE_LOGGING_EXECUTION_RETENTION_DAYS=30  # Function/job/RPC execution logs
# FLUXBASE_LOGGING_AI_RETENTION_DAYS=30         # AI query audit logs
# FLUXBASE_LOGGING_CUSTOM_RETENTION_DAYS=30     # Custom category logs

# Automatic Log Cleanup (runs daily by default)
# When enabled, logs older than their retention period are permanently deleted
# FLUXBASE_LOGGING_RETENTION_ENABLED=true       # Enable automatic cleanup
# FLUXBASE_LOGGING_RETENTION_CHECK_INTERVAL=24h # How often to run cleanup

# Custom Log Categories
# FLUXBASE_LOGGING_CUSTOM_CATEGORIES=           # Comma-separated list of allowed custom categories

# ------------------------------------------------------------------------------
# OpenTelemetry Tracing Configuration
# ------------------------------------------------------------------------------
# Traces are exported via OTLP gRPC to any compatible collector (Jaeger, Grafana Tempo, etc.)
# FLUXBASE_TRACING_ENABLED=false
# FLUXBASE_TRACING_ENDPOINT=localhost:4317      # OTLP gRPC endpoint
# FLUXBASE_TRACING_SERVICE_NAME=fluxbase        # Service name for traces
# FLUXBASE_TRACING_ENVIRONMENT=production       # Environment: development, staging, production
# FLUXBASE_TRACING_SAMPLE_RATE=0.1              # Sample rate: 0.0-1.0 (0.1 = 10% of traces)
# FLUXBASE_TRACING_INSECURE=false               # Use insecure connection

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
# SECURITY WARNING: Rate limiting uses in-memory storage by default, which is per-instance only.
# In multi-instance/scaled deployments, you MUST enable Redis for rate limiting to be effective
# across all instances. Without Redis, attackers can bypass rate limits by hitting different instances.
# FLUXBASE_RATE_LIMIT_ENABLED=false
# FLUXBASE_RATE_LIMIT_REQUESTS_PER_SECOND=100
# FLUXBASE_RATE_LIMIT_BURST=200

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# FLUXBASE_CORS_ALLOWED_ORIGINS=https://yourdomain.com
# FLUXBASE_CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
# FLUXBASE_CORS_ALLOWED_HEADERS=Origin,Content-Type,Accept,Authorization,X-Request-ID,X-CSRF-Token,Prefer,apikey,X-Requested-With,x-client-app
# FLUXBASE_CORS_EXPOSED_HEADERS=Content-Range,Content-Encoding,Content-Length,X-Request-ID,X-RateLimit-Limit,X-RateLimit-Remaining,X-RateLimit-Reset
# FLUXBASE_CORS_ALLOW_CREDENTIALS=true
# FLUXBASE_CORS_MAX_AGE=300

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------
# FLUXBASE_FEATURES_AUTH_ENABLED=true
# FLUXBASE_FEATURES_STORAGE_ENABLED=true
# FLUXBASE_FEATURES_REALTIME_ENABLED=true
# FLUXBASE_FEATURES_FUNCTIONS_ENABLED=true
# FLUXBASE_FEATURES_JOBS_ENABLED=true
# FLUXBASE_FEATURES_ADMIN_UI_ENABLED=true

# ------------------------------------------------------------------------------
# Jobs Configuration (Background Job Processing)
# ------------------------------------------------------------------------------
# FLUXBASE_JOBS_DIR=./jobs                       # Directory containing job functions
# FLUXBASE_JOBS_AUTO_LOAD_ON_BOOT=true           # Auto-load jobs from directory on startup
# FLUXBASE_JOBS_EMBEDDED_WORKER_COUNT=4          # Number of worker threads
# FLUXBASE_JOBS_DEFAULT_MAX_DURATION=300s        # Default job timeout
# FLUXBASE_JOBS_MAX_MAX_DURATION=3600s           # Maximum allowed job timeout
# FLUXBASE_JOBS_DEFAULT_PROGRESS_TIMEOUT=300s    # Progress reporting timeout
# FLUXBASE_JOBS_POLL_INTERVAL=1s                 # Worker poll interval
# FLUXBASE_JOBS_WORKER_HEARTBEAT_INTERVAL=10s    # Worker heartbeat interval

# Execution Logs Retention (used by cleanup-execution-logs builtin job)
# FLUXBASE_JOBS_FUNCTIONS_LOGS_RETENTION_DAYS=30
# FLUXBASE_JOBS_RPC_LOGS_RETENTION_DAYS=30
# FLUXBASE_JOBS_JOBS_LOGS_RETENTION_DAYS=30

# ------------------------------------------------------------------------------
# AI Configuration
# ------------------------------------------------------------------------------
# FLUXBASE_AI_CHATBOTS_DIR=./chatbots
# FLUXBASE_AI_AUTO_LOAD_ON_BOOT=true
# FLUXBASE_AI_DEFAULT_MAX_TOKENS=4096
# FLUXBASE_AI_QUERY_TIMEOUT=30s
# FLUXBASE_AI_MAX_ROWS_PER_QUERY=1000
# FLUXBASE_AI_CONVERSATION_CACHE_TTL=1h
# FLUXBASE_AI_MAX_CONVERSATION_TURNS=50

# AI Provider Configuration (Optional - defaults to database-configured providers)
# When configured via environment, the provider becomes read-only in the dashboard
# FLUXBASE_AI_PROVIDER_ENABLED=false              # Enable config-based provider
# FLUXBASE_AI_PROVIDER_TYPE=openai                # Provider type: openai, azure, ollama
# FLUXBASE_AI_PROVIDER_NAME=Default Provider      # Display name for the provider
# FLUXBASE_AI_PROVIDER_MODEL=gpt-4-turbo          # Default model to use

# OpenAI Provider Settings (when FLUXBASE_AI_PROVIDER_TYPE=openai)
# FLUXBASE_AI_OPENAI_API_KEY=                     # OpenAI API key (required for OpenAI)
# FLUXBASE_AI_OPENAI_ORGANIZATION_ID=             # Optional: OpenAI organization ID
# FLUXBASE_AI_OPENAI_BASE_URL=                    # Optional: Custom base URL for OpenAI-compatible APIs

# Azure OpenAI Provider Settings (when FLUXBASE_AI_PROVIDER_TYPE=azure)
# FLUXBASE_AI_AZURE_API_KEY=                      # Azure OpenAI API key
# FLUXBASE_AI_AZURE_ENDPOINT=                     # Azure OpenAI endpoint
# FLUXBASE_AI_AZURE_DEPLOYMENT_NAME=              # Azure deployment name
# FLUXBASE_AI_AZURE_API_VERSION=2024-02-15-preview

# Ollama Provider Settings (when FLUXBASE_AI_PROVIDER_TYPE=ollama)
# FLUXBASE_AI_OLLAMA_ENDPOINT=http://localhost:11434
# FLUXBASE_AI_OLLAMA_MODEL=llama2

# Embedding Configuration (for vector search and knowledge bases)
# FLUXBASE_AI_EMBEDDING_ENABLED=true
# FLUXBASE_AI_EMBEDDING_PROVIDER=                 # Provider: openai, azure, ollama
# FLUXBASE_AI_EMBEDDING_MODEL=text-embedding-3-small

# Azure Embedding Settings (if using separate Azure deployment for embeddings)
# FLUXBASE_AI_AZURE_EMBEDDING_DEPLOYMENT_NAME=

# OCR Configuration (for image-based PDF extraction in knowledge bases)
# FLUXBASE_AI_OCR_ENABLED=true
# FLUXBASE_AI_OCR_PROVIDER=tesseract
# FLUXBASE_AI_OCR_LANGUAGES=eng                   # Comma-separated: eng,deu,nld,fra

# ------------------------------------------------------------------------------
# RPC Configuration (Remote Procedure Calls)
# ------------------------------------------------------------------------------
# FLUXBASE_RPC_ENABLED=true
# FLUXBASE_RPC_PROCEDURES_DIR=./rpc
# FLUXBASE_RPC_AUTO_LOAD_ON_BOOT=true
# FLUXBASE_RPC_DEFAULT_MAX_EXECUTION_TIME=30s
# FLUXBASE_RPC_MAX_MAX_EXECUTION_TIME=5m
# FLUXBASE_RPC_DEFAULT_MAX_ROWS=1000

# ------------------------------------------------------------------------------
# Deployment Environment
# ------------------------------------------------------------------------------
FLUXBASE_ENVIRONMENT=production
# FLUXBASE_VERSION=
# FLUXBASE_COMMIT_SHA=
