{{- /*
ConfigMap for Fluxbase

This ConfigMap is reserved for non-sensitive static configuration that benefits
from being in a file format (e.g., custom email templates, static assets).

Application configuration is handled via environment variables in the deployment.
See values.yaml fluxbase.* section for all configurable options.
*/ -}}
{{- if .Values.configMap.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "fluxbase.fullname" . }}-config
  namespace: {{ include "fluxbase.namespace" . | quote }}
  labels: {{- include "fluxbase.labels" . | nindent 4 }}
  {{- if .Values.commonAnnotations }}
  annotations: {{- toYaml .Values.commonAnnotations | nindent 4 }}
  {{- end }}
data:
  {{- if .Values.configMap.data }}
  {{- toYaml .Values.configMap.data | nindent 2 }}
  {{- end }}
{{- end }}
