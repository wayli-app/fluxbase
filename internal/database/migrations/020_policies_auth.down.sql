-- Drop all auth schema RLS policies

DROP POLICY IF EXISTS mfa_factors_admin_all ON auth.mfa_factors;
DROP POLICY IF EXISTS mfa_factors_delete_own ON auth.mfa_factors;
DROP POLICY IF EXISTS mfa_factors_update_own ON auth.mfa_factors;
DROP POLICY IF EXISTS mfa_factors_insert_own ON auth.mfa_factors;
DROP POLICY IF EXISTS mfa_factors_select_own ON auth.mfa_factors;
DROP POLICY IF EXISTS rls_audit_log_user_select ON auth.rls_audit_log;
DROP POLICY IF EXISTS rls_audit_log_admin_select ON auth.rls_audit_log;
DROP POLICY IF EXISTS rls_audit_log_service_insert ON auth.rls_audit_log;
DROP POLICY IF EXISTS impersonation_sessions_dashboard_admin_only ON auth.impersonation_sessions;
DROP POLICY IF EXISTS webhook_events_service ON auth.webhook_events;
DROP POLICY IF EXISTS webhook_events_admin_select ON auth.webhook_events;
DROP POLICY IF EXISTS webhook_deliveries_service_update ON auth.webhook_deliveries;
DROP POLICY IF EXISTS webhook_deliveries_admin_read ON auth.webhook_deliveries;
DROP POLICY IF EXISTS webhook_deliveries_service_write ON auth.webhook_deliveries;
DROP POLICY IF EXISTS webhooks_admin_only ON auth.webhooks;
DROP POLICY IF EXISTS two_factor_recovery_admin_select ON auth.two_factor_recovery_attempts;
DROP POLICY IF EXISTS two_factor_recovery_insert ON auth.two_factor_recovery_attempts;
DROP POLICY IF EXISTS two_factor_recovery_select ON auth.two_factor_recovery_attempts;
DROP POLICY IF EXISTS two_factor_setups_admin_select ON auth.two_factor_setups;
DROP POLICY IF EXISTS two_factor_setups_update ON auth.two_factor_setups;
DROP POLICY IF EXISTS two_factor_setups_delete ON auth.two_factor_setups;
DROP POLICY IF EXISTS two_factor_setups_insert ON auth.two_factor_setups;
DROP POLICY IF EXISTS two_factor_setups_select ON auth.two_factor_setups;
DROP POLICY IF EXISTS oauth_tokens_service_all ON auth.oauth_tokens;
DROP POLICY IF EXISTS oauth_tokens_select ON auth.oauth_tokens;
DROP POLICY IF EXISTS oauth_links_service_all ON auth.oauth_links;
DROP POLICY IF EXISTS oauth_links_select ON auth.oauth_links;
DROP POLICY IF EXISTS token_blacklist_admin_only ON auth.token_blacklist;
DROP POLICY IF EXISTS password_reset_tokens_service_only ON auth.password_reset_tokens;
DROP POLICY IF EXISTS magic_links_service_only ON auth.magic_links;
DROP POLICY IF EXISTS api_key_usage_user_read ON auth.api_key_usage;
DROP POLICY IF EXISTS api_key_usage_service_write ON auth.api_key_usage;
DROP POLICY IF EXISTS auth_api_keys_policy ON auth.api_keys;
DROP POLICY IF EXISTS auth_sessions_delete_own ON auth.sessions;
DROP POLICY IF EXISTS auth_sessions_update_own ON auth.sessions;
DROP POLICY IF EXISTS auth_sessions_select_own ON auth.sessions;
DROP POLICY IF EXISTS auth_sessions_service_role_all ON auth.sessions;
DROP POLICY IF EXISTS auth_users_delete_admin ON auth.users;
DROP POLICY IF EXISTS auth_users_update_own ON auth.users;
DROP POLICY IF EXISTS auth_users_select_own ON auth.users;
DROP POLICY IF EXISTS auth_users_service_role_all ON auth.users;

ALTER TABLE auth.sessions DISABLE ROW LEVEL SECURITY;
ALTER TABLE auth.users DISABLE ROW LEVEL SECURITY;
